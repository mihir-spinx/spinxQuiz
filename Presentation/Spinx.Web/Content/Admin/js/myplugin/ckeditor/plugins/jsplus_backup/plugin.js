(function(){function aH(){return"ckeditor";}function i(a4){return a4.elementMode==3;}function G(a4){return a4.name.replace(/\[/,"_").replace(/\]/,"_");}function l(a4){return a4.container.$;}function b(a4){return a4.document.$;}function W(a4){return a4.getSnapshot();}function aa(a5,a4){a5.loadSnapshot(a4);}function aZ(a7){var a6=al(a7);if(a6!=null&&a6.tagName=="SPAN"&&a6.getAttribute("data-cke-display-name")=="image"){var a5=a6.getElementsByTagName("IMG");a6=null;for(var a4=0;a4<a5.length&&a6==null;a4++){if(a5.item(a4).tagName==="IMG"){a6=a5.item(a4);}}}if(a6!=null&&a6.tagName=="IMG"){return a6;}return null;}function al(a5){if(a5.getSelection()==null){return null;}var a4=a5.getSelection().getStartElement();if(a4&&a4.$){return a4.$;}return null;}function af(){return CKEDITOR.basePath;}function aV(){return j("jsplus_backup");}function j(a4){return CKEDITOR.plugins.getPath(a4);}function U(){return CKEDITOR.version.charAt(0)=="3"?3:4;}function L(){return"";}function x(a6,a5){if(U()==3){var a4=(a5.indexOf("jsplus_backup_")==-1)?("jsplus_backup_"+a5):a5;if(typeof(a6.lang[a4])!=="undefined"){return a6.lang[a4];}else{console.log("(v3) editor.lang['jsplus_backup'] not defined");}}else{if(typeof(a6.lang["jsplus_backup"])!=="undefined"){if(typeof(a6.lang["jsplus_backup"][a5])!=="undefined"){return a6.lang["jsplus_backup"][a5];}else{console.log("editor.lang['jsplus_backup']['"+a5+"'] not defined");}}else{console.log("editor.lang['jsplus_backup'] not defined");}}return"";}function ah(a5,a4){return ae(a5,"jsplus_backup_"+a4);}function ae(a5,a4){var a6=a5.config[a4];return a6;}function w(a4,a5){ak("jsplus_backup_"+a4,a5);}function ak(a4,a5){CKEDITOR.config[a4]=a5;}function aS(a6,a5){var a4=CKEDITOR.dom.element.createFromHtml(a5);if(a4.type==CKEDITOR.NODE_TEXT){a6.insertText(a5);}else{a6.insertElement(a4);}}function s(){return"";}var ab=0;var J=1;var S=2;function q(a4,a7,a5){var a6=null;if(a5==ab){a6=CKEDITOR.TRISTATE_DISABLED;}else{if(a5==J){a6=CKEDITOR.TRISTATE_OFF;}else{if(a5==S){a6=CKEDITOR.TRISTATE_ON;}}}if(a6!=null&&a4.ui&&a4.ui.get(a7)){a4.ui.get(a7).setState(a6);}}function X(a4,a5){a4.on("selectionChange",function(a6){a5(a6.editor);});}function I(a5,a4,a6){if(a4=="beforeGetOutputHTML"){a5.on("toDataFormat",function(a7){return a6(a5,a7.data.dataValue);},null,null,4);return;}if(a4=="keyDown"){a5.on("key",(function(){var a8=a5;var a7=a6;return function(a9){a7(a8,a9.data.keyCode,a9);};})());return;}a5.on(a4,(function(){var a7=a5;return function(){a6(a7);};})());}function Q(a4){a4.cancel();}function z(a6,a4,ba,a8,a9,a5,a7){a6.addCommand(a4,{exec:a9});a6.ui.addButton(a4,{title:x(a6,a8.replace(/^jsplus_/,"")),label:x(a6,a8.replace(/^jsplus_/,"")),icon:aV()+"icons/"+ba+".png",command:a4,className:a7?"jsplus_framework_button":""});}function r(a4){return a4.mode=="wysiwyg";}function aA(a5,a4,a6){if(!(a5 in CKEDITOR.plugins.registered)){CKEDITOR.plugins.add(a5,{icons:a5,lang:a4,init:function(a7){a6(a7);}});}}function c(){n.Config.skin=null;n.Config.templateDialog='<div class="jsdialog_plugin_jsplus_backup jsdialog_dlg cke_dialog cke_ltr">'+'<div class="cke_dialog_body">'+'<div class="jsdialog_title cke_dialog_title">'+'<div class="jsdialog_title_text"></div>'+'<a class="jsdialog_x cke_dialog_close_button" href="javascript:void(0)" style="-webkit-user-select: none;">'+'<span class="cke_label">X</span>'+"</a>"+"</div>"+'<div class="jsdialog_content_wrap cke_dialog_contents">'+'<div class="jsdialog_content"></div>'+"</div>"+'<div class="cke_dialog_footer">'+'<div class="jsdialog_buttons cke_dialog_footer_buttons"></div>'+"</div>"+"</div>"+"</div>";n.Config.templateButton='<a><span class="cke_dialog_ui_button"></span></a>';n.Config.templateBg='<div class="jsdialog_plugin_jsplus_backup jsdialog_bg"></div>';n.Config.classButton="cke_dialog_ui_button";n.Config.classButtonOk="cke_dialog_ui_button_ok";n.Config.contentBorders=[3,1,15,1,51];if(typeof CKEDITOR.skinName==="undefined"){CKEDITOR.skinName=CKEDITOR.skin.name;}CKEDITOR.skin.loadPart("dialog");D(document,".jsdialog_plugin_jsplus_backup.jsdialog_bg { background-color: white; opacity: 0.5; position: fixed; left: 0; top: 0; width: 100%; height: 3000px; z-index: 11111; display: none; }"+".jsdialog_plugin_jsplus_backup.jsdialog_dlg { font-family: Arial; padding: 0; position: fixed; z-index: 11112; background-color: white; border-radius: 5px; display: none; }"+".jsdialog_plugin_jsplus_backup.jsdialog_show { display: block; }"+".jsdialog_plugin_jsplus_backup .jsdialog_message_contents { font-size: 16px; padding: 10px 0 10px 7px; display: table; overflow: hidden; }"+".jsdialog_plugin_jsplus_backup .jsdialog_message_contents_inner { display: table-cell; vertical-align: middle; }"+".jsdialog_plugin_jsplus_backup .jsdialog_message_icon { padding-left: 100px; min-height: 64px; background-position: 10px 10px; background-repeat: no-repeat; box-sizing: content-box; }"+".jsdialog_plugin_jsplus_backup .jsdialog_message_icon_info { background-image: url(img/info.png); }"+".jsdialog_plugin_jsplus_backup .jsdialog_message_icon_warning { background-image: url(img/warning.png); }"+".jsdialog_plugin_jsplus_backup .jsdialog_message_icon_error { background-image: url(img/error.png); }"+".jsdialog_plugin_jsplus_backup .jsdialog_message_icon_confirm { background-image: url(img/confirm.png); }"+".jsdialog_plugin_jsplus_backup .cke_dialog_contents { margin-top: 0; border-top: none; }"+".jsdialog_plugin_jsplus_backup .cke_dialog_footer div { outline: none; }"+".jsdialog_plugin_jsplus_backup .cke_dialog_footer_buttons > .cke_dialog_ui_button { margin-right: 5px; }"+".jsdialog_plugin_jsplus_backup .cke_dialog_footer_buttons > .cke_dialog_ui_button:last-child { margin-right: 0; }"+".jsdialog_plugin_jsplus_backup .cke_dialog_title { cursor: default; }"+".jsdialog_plugin_jsplus_backup .cke_dialog_contents { padding: 0; }"+".jsdialog_plugin_jsplus_backup .cke_dialog_ui_button { padding: inherit; }"+".jsdialog_plugin_jsplus_backup .cke_dialog_ui_button:hover, .jsdialog_plugin_jsplus_backup .cke_dialog_ui_button:focus { text-decoration: none; }");
}
/*! URI.js v1.13.2 http://medialize.github.io/URI.js/ */
(function(a4,a5){"object"===typeof exports?module.exports=a5():"function"===typeof define&&define.amd?define(a5):a4.IPv6=a5(a4);})(this,function(a4){var a5=a4&&a4.IPv6;return{best:function(ba){ba=ba.toLowerCase().split(":");var a9=ba.length,bc=8;""===ba[0]&&""===ba[1]&&""===ba[2]?(ba.shift(),ba.shift()):""===ba[0]&&""===ba[1]?ba.shift():""===ba[a9-1]&&""===ba[a9-2]&&ba.pop();a9=ba.length;-1!==ba[a9-1].indexOf(".")&&(bc=7);var a6;for(a6=0;a6<a9&&""!==ba[a6];a6++){}if(a6<bc){for(ba.splice(a6,1,"0000");ba.length<bc;){ba.splice(a6,0,"0000");}}for(a6=0;a6<bc;a6++){for(var a9=ba[a6].split(""),bb=0;3>bb;bb++){if("0"===a9[0]&&1<a9.length){a9.splice(0,1);}else{break;}}ba[a6]=a9.join("");}var a9=-1,bd=bb=0,a7=-1,a8=!1;for(a6=0;a6<bc;a6++){a8?"0"===ba[a6]?bd+=1:(a8=!1,bd>bb&&(a9=a7,bb=bd)):"0"===ba[a6]&&(a8=!0,a7=a6,bd=1);}bd>bb&&(a9=a7,bb=bd);1<bb&&ba.splice(a9,bb,"");a9=ba.length;bc="";""===ba[0]&&(bc=":");for(a6=0;a6<a9;a6++){bc+=ba[a6];if(a6===a9-1){break;}bc+=":";}""===ba[a9-1]&&(bc+=":");return bc;},noConflict:function(){a4.IPv6===this&&(a4.IPv6=a5);return this;}};});(function(bt){function bn(bz){throw RangeError(bj[bz]);}function bs(bA,bz){for(var bB=bA.length;bB--;){bA[bB]=bz(bA[bB]);}return bA;}function br(bA,bz){return bs(bA.split(bp),bz).join(".");}function bv(bB){for(var bz=[],bE=0,bD=bB.length,bA,bC;bE<bD;){bA=bB.charCodeAt(bE++),55296<=bA&&56319>=bA&&bE<bD?(bC=bB.charCodeAt(bE++),56320==(bC&64512)?bz.push(((bA&1023)<<10)+(bC&1023)+65536):(bz.push(bA),bE--)):bz.push(bA);}return bz;}function bo(bz){return bs(bz,function(bB){var bA="";65535<bB&&(bB-=65536,bA+=bf(bB>>>10&1023|55296),bB=56320|bB&1023);return bA+=bf(bB);}).join("");}function a8(bA,bz){return bA+22+75*(26>bA)-((0!=bz)<<5);}function bi(bA,bz,bC){var bB=0;bA=bC?a4(bA/a7):bA>>1;for(bA+=a4(bA/bz);bA>ba*be>>1;bB+=bm){bA=a4(bA/ba);}return a4(bB+(ba+1)*bA/(bA+a6));}function bq(bI){var bH=[],bG=bI.length,bA,bF=0,bz=bd,bB=bb,bD,bJ,bE,bC,bK;bD=bI.lastIndexOf(by);0>bD&&(bD=0);for(bJ=0;bJ<bD;++bJ){128<=bI.charCodeAt(bJ)&&bn("not-basic"),bH.push(bI.charCodeAt(bJ));}for(bD=0<bD?bD+1:0;bD<bG;){bJ=bF;bA=1;for(bE=bm;;bE+=bm){bD>=bG&&bn("invalid-input");bC=bI.charCodeAt(bD++);bC=10>bC-48?bC-22:26>bC-65?bC-65:26>bC-97?bC-97:bm;(bC>=bm||bC>a4((bk-bF)/bA))&&bn("overflow");bF+=bC*bA;bK=bE<=bB?bg:bE>=bB+be?be:bE-bB;if(bC<bK){break;}bC=bm-bK;bA>a4(bk/bC)&&bn("overflow");bA*=bC;}bA=bH.length+1;bB=bi(bF-bJ,bA,0==bJ);a4(bF/bA)>bk-bz&&bn("overflow");bz+=a4(bF/bA);bF%=bA;bH.splice(bF++,0,bz);}return bo(bH);}function bc(bK){var bI,bC,bH,bz,bF,bD,bL,bE,bG,bM=[],bB,bJ,bA;bK=bv(bK);bB=bK.length;bI=bd;bC=0;bF=bb;for(bD=0;bD<bB;++bD){bG=bK[bD],128>bG&&bM.push(bf(bG));}for((bH=bz=bM.length)&&bM.push(by);bH<bB;){bL=bk;for(bD=0;bD<bB;++bD){bG=bK[bD],bG>=bI&&bG<bL&&(bL=bG);}bJ=bH+1;bL-bI>a4((bk-bC)/bJ)&&bn("overflow");bC+=(bL-bI)*bJ;bI=bL;for(bD=0;bD<bB;++bD){if(bG=bK[bD],bG<bI&&++bC>bk&&bn("overflow"),bG==bI){bE=bC;for(bL=bm;;bL+=bm){bG=bL<=bF?bg:bL>=bF+be?be:bL-bF;if(bE<bG){break;}bA=bE-bG;bE=bm-bG;bM.push(bf(a8(bG+bA%bE,0)));bE=a4(bA/bE);}bM.push(bf(a8(bE,0)));bF=bi(bC,bJ,bH==bz);bC=0;++bH;}}++bC;++bI;}return bM.join("");}var a5="object"==typeof exports&&exports,bl="object"==typeof module&&module&&module.exports==a5&&module,bh="object"==typeof global&&global;if(bh.global===bh||bh.window===bh){bt=bh;}var bu,bk=2147483647,bm=36,bg=1,be=26,a6=38,a7=700,bb=72,bd=128,by="-",bx=/^xn--/,bw=/[^ -~]/,bp=/\x2E|\u3002|\uFF0E|\uFF61/g,bj={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ba=bm-bg,a4=Math.floor,bf=String.fromCharCode,a9;bu={version:"1.2.3",ucs2:{decode:bv,encode:bo},decode:bq,encode:bc,toASCII:function(bz){return br(bz,function(bA){return bw.test(bA)?"xn--"+bc(bA):bA;});},toUnicode:function(bz){return br(bz,function(bA){return bx.test(bA)?bq(bA.slice(4).toLowerCase()):bA;});}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd){define(function(){return bu;});}else{if(a5&&!a5.nodeType){if(bl){bl.exports=bu;}else{for(a9 in bu){bu.hasOwnProperty(a9)&&(a5[a9]=bu[a9]);}}}else{bt.punycode=bu;}}})(this);(function(a4,a5){"object"===typeof exports?module.exports=a5():"function"===typeof define&&define.amd?define(a5):a4.SecondLevelDomains=a5(a4);})(this,function(a5){var a6=a5&&a5.SecondLevelDomains,a4={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(a7){var a9=a7.lastIndexOf(".");
if(0>=a9||a9>=a7.length-1){return !1;}var a8=a7.lastIndexOf(".",a9-1);if(0>=a8||a8>=a9-1){return !1;}var ba=a4.list[a7.slice(a9+1)];return ba?0<=ba.indexOf(" "+a7.slice(a8+1,a9)+" "):!1;},is:function(a8){var a9=a8.lastIndexOf(".");if(0>=a9||a9>=a8.length-1||0<=a8.lastIndexOf(".",a9-1)){return !1;}var a7=a4.list[a8.slice(a9+1)];return a7?0<=a7.indexOf(" "+a8.slice(0,a9)+" "):!1;},get:function(a8){var a9=a8.lastIndexOf(".");if(0>=a9||a9>=a8.length-1){return null;}var a7=a8.lastIndexOf(".",a9-1);if(0>=a7||a7>=a9-1){return null;}var ba=a4.list[a8.slice(a9+1)];return !ba||0>ba.indexOf(" "+a8.slice(a7+1,a9)+" ")?null:a8.slice(a7+1);},noConflict:function(){a5.SecondLevelDomains===this&&(a5.SecondLevelDomains=a6);return this;}};return a4;});(function(a4,a5){"object"===typeof exports?module.exports=a5(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a5):a4.URI=a5(a4.punycode,a4.IPv6,a4.SecondLevelDomains,a4);})(this,function(bn,bi,bm,bl){function bp(br,bq){if(!(this instanceof bp)){return new bp(br,bq);}void 0===br&&(br="undefined"!==typeof location?location.href+"":"");this.href(br);return void 0!==bq?this.absoluteTo(bq):this;}function bj(bq){return bq.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1");}function a7(bq){return void 0===bq?"Undefined":String(Object.prototype.toString.call(bq)).slice(8,-1);}function be(bq){return"Array"===a7(bq);}function bk(br,bq){var bu,bt;if(be(bq)){bu=0;for(bt=bq.length;bu<bt;bu++){if(!bk(br,bq[bu])){return !1;}}return !0;}var bs=a7(bq);bu=0;for(bt=br.length;bu<bt;bu++){if("RegExp"===bs){if("string"===typeof br[bu]&&br[bu].match(bq)){return !0;}}else{if(br[bu]===bq){return !0;}}}return !1;}function a9(br,bq){if(!be(br)||!be(bq)||br.length!==bq.length){return !1;}br.sort();bq.sort();for(var bt=0,bs=br.length;bt<bs;bt++){if(br[bt]!==bq[bt]){return !1;}}return !0;}function a4(bq){return escape(bq);}function bg(bq){return encodeURIComponent(bq).replace(/[!'()*]/g,a4).replace(/\*/g,"%2A");}var bd=bl&&bl.URI;bp.version="1.13.2";var bo=bp.prototype,bf=Object.prototype.hasOwnProperty;bp._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:bp.duplicateQueryParameters,escapeQuerySpace:bp.escapeQuerySpace};};bp.duplicateQueryParameters=!1;bp.escapeQuerySpace=!0;bp.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;bp.idn_expression=/[^a-z0-9\.-]/i;bp.punycode_expression=/(xn--)/i;bp.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;bp.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;bp.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;bp.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};bp.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};bp.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;bp.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"};bp.getDomAttribute=function(br){if(br&&br.nodeName){var bq=br.nodeName.toLowerCase();return"input"===bq&&"image"!==br.type?void 0:bp.domAttributes[bq];}};bp.encode=bg;bp.decode=decodeURIComponent;bp.iso8859=function(){bp.encode=escape;bp.decode=unescape;};bp.unicode=function(){bp.encode=bg;bp.decode=decodeURIComponent;};bp.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};
bp.encodeQuery=function(br,bq){var bs=bp.encode(br+"");void 0===bq&&(bq=bp.escapeQuerySpace);return bq?bs.replace(/%20/g,"+"):bs;};bp.decodeQuery=function(br,bq){br+="";void 0===bq&&(bq=bp.escapeQuerySpace);try{return bp.decode(bq?br.replace(/\+/g,"%20"):br);}catch(bs){return br;}};bp.recodePath=function(br){br=(br+"").split("/");for(var bq=0,bs=br.length;bq<bs;bq++){br[bq]=bp.encodePathSegment(bp.decode(br[bq]));}return br.join("/");};bp.decodePath=function(br){br=(br+"").split("/");for(var bq=0,bs=br.length;bq<bs;bq++){br[bq]=bp.decodePathSegment(br[bq]);}return br.join("/");};var bh={encode:"encode",decode:"decode"},bc,bb=function(br,bq){return function(bs){return bp[bq](bs+"").replace(bp.characters[br][bq].expression,function(bt){return bp.characters[br][bq].map[bt];});};};for(bc in bh){bp[bc+"PathSegment"]=bb("pathname",bh[bc]);}bp.encodeReserved=bb("reserved","encode");bp.parse=function(br,bq){var bs;bq||(bq={});bs=br.indexOf("#");-1<bs&&(bq.fragment=br.substring(bs+1)||null,br=br.substring(0,bs));bs=br.indexOf("?");-1<bs&&(bq.query=br.substring(bs+1)||null,br=br.substring(0,bs));"//"===br.substring(0,2)?(bq.protocol=null,br=br.substring(2),br=bp.parseAuthority(br,bq)):(bs=br.indexOf(":"),-1<bs&&(bq.protocol=br.substring(0,bs)||null,bq.protocol&&!bq.protocol.match(bp.protocol_expression)?bq.protocol=void 0:"file"===bq.protocol?br=br.substring(bs+3):"//"===br.substring(bs+1,bs+3)?(br=br.substring(bs+3),br=bp.parseAuthority(br,bq)):(br=br.substring(bs+1),bq.urn=!0)));bq.path=br;return bq;};bp.parseHost=function(br,bq){var bt=br.indexOf("/"),bs;-1===bt&&(bt=br.length);"["===br.charAt(0)?(bs=br.indexOf("]"),bq.hostname=br.substring(1,bs)||null,bq.port=br.substring(bs+2,bt)||null,"/"===bq.port&&(bq.port=null)):br.indexOf(":")!==br.lastIndexOf(":")?(bq.hostname=br.substring(0,bt)||null,bq.port=null):(bs=br.substring(0,bt).split(":"),bq.hostname=bs[0]||null,bq.port=bs[1]||null);bq.hostname&&"/"!==br.substring(bt).charAt(0)&&(bt++,br="/"+br);return br.substring(bt)||"/";};bp.parseAuthority=function(br,bq){br=bp.parseUserinfo(br,bq);return bp.parseHost(br,bq);};bp.parseUserinfo=function(bs,bq){var bt=bs.indexOf("/"),br=-1<bt?bs.lastIndexOf("@",bt):bs.indexOf("@");-1<br&&(-1===bt||br<bt)?(bt=bs.substring(0,br).split(":"),bq.username=bt[0]?bp.decode(bt[0]):null,bt.shift(),bq.password=bt[0]?bp.decode(bt.join(":")):null,bs=bs.substring(br+1)):(bq.username=null,bq.password=null);return bs;};bp.parseQuery=function(bs,bq){if(!bs){return{};}bs=bs.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!bs){return{};}for(var bx={},br=bs.split("&"),bw=br.length,bv,bt,bu=0;bu<bw;bu++){bv=br[bu].split("="),bt=bp.decodeQuery(bv.shift(),bq),bv=bv.length?bp.decodeQuery(bv.join("="),bq):null,bx[bt]?("string"===typeof bx[bt]&&(bx[bt]=[bx[bt]]),bx[bt].push(bv)):bx[bt]=bv;}return bx;};bp.build=function(br){var bq="";br.protocol&&(bq+=br.protocol+":");br.urn||!bq&&!br.hostname||(bq+="//");bq+=bp.buildAuthority(br)||"";"string"===typeof br.path&&("/"!==br.path.charAt(0)&&"string"===typeof br.hostname&&(bq+="/"),bq+=br.path);"string"===typeof br.query&&br.query&&(bq+="?"+br.query);"string"===typeof br.fragment&&br.fragment&&(bq+="#"+br.fragment);return bq;};bp.buildHost=function(br){var bq="";if(br.hostname){bq=bp.ip6_expression.test(br.hostname)?bq+("["+br.hostname+"]"):bq+br.hostname;}else{return"";}br.port&&(bq+=":"+br.port);return bq;};bp.buildAuthority=function(bq){return bp.buildUserinfo(bq)+bp.buildHost(bq);};bp.buildUserinfo=function(br){var bq="";br.username&&(bq+=bp.encode(br.username),br.password&&(bq+=":"+bp.encode(br.password)),bq+="@");return bq;};bp.buildQuery=function(bs,bq,bx){var br="",bw,bv,bt,bu;for(bv in bs){if(bf.call(bs,bv)&&bv){if(be(bs[bv])){for(bw={},bt=0,bu=bs[bv].length;bt<bu;bt++){void 0!==bs[bv][bt]&&void 0===bw[bs[bv][bt]+""]&&(br+="&"+bp.buildQueryParameter(bv,bs[bv][bt],bx),!0!==bq&&(bw[bs[bv][bt]+""]=!0));}}else{void 0!==bs[bv]&&(br+="&"+bp.buildQueryParameter(bv,bs[bv],bx));}}}return br.substring(1);};bp.buildQueryParameter=function(br,bq,bs){return bp.encodeQuery(br,bs)+(null!==bq?"="+bp.encodeQuery(bq,bs):"");};bp.addQuery=function(bs,bq,bt){if("object"===typeof bq){for(var br in bq){bf.call(bq,br)&&bp.addQuery(bs,br,bq[br]);}}else{if("string"===typeof bq){void 0===bs[bq]?bs[bq]=bt:("string"===typeof bs[bq]&&(bs[bq]=[bs[bq]]),be(bt)||(bt=[bt]),bs[bq]=bs[bq].concat(bt));}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");}}};bp.removeQuery=function(bs,bq,bw){var br;if(be(bq)){for(bw=0,br=bq.length;bw<br;bw++){bs[bq[bw]]=void 0;}}else{if("object"===typeof bq){for(br in bq){bf.call(bq,br)&&bp.removeQuery(bs,br,bq[br]);}}else{if("string"===typeof bq){if(void 0!==bw){if(bs[bq]===bw){bs[bq]=void 0;}else{if(be(bs[bq])){br=bs[bq];var bv={},bu,bt;if(be(bw)){for(bu=0,bt=bw.length;bu<bt;bu++){bv[bw[bu]]=!0;}}else{bv[bw]=!0;}bu=0;for(bt=br.length;bu<bt;bu++){void 0!==bv[br[bu]]&&(br.splice(bu,1),bt--,bu--);}bs[bq]=br;}}}else{bs[bq]=void 0;}}else{throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");
}}}};bp.hasQuery=function(bs,bq,bu,br){if("object"===typeof bq){for(var bt in bq){if(bf.call(bq,bt)&&!bp.hasQuery(bs,bt,bq[bt])){return !1;}}return !0;}if("string"!==typeof bq){throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");}switch(a7(bu)){case"Undefined":return bq in bs;case"Boolean":return bs=Boolean(be(bs[bq])?bs[bq].length:bs[bq]),bu===bs;case"Function":return !!bu(bs[bq],bq,bs);case"Array":return be(bs[bq])?(br?bk:a9)(bs[bq],bu):!1;case"RegExp":return be(bs[bq])?br?bk(bs[bq],bu):!1:Boolean(bs[bq]&&bs[bq].match(bu));case"Number":bu=String(bu);case"String":return be(bs[bq])?br?bk(bs[bq],bu):!1:bs[bq]===bu;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};bp.commonPath=function(br,bq){var bt=Math.min(br.length,bq.length),bs;for(bs=0;bs<bt;bs++){if(br.charAt(bs)!==bq.charAt(bs)){bs--;break;}}if(1>bs){return br.charAt(0)===bq.charAt(0)&&"/"===br.charAt(0)?"/":"";}if("/"!==br.charAt(bs)||"/"!==bq.charAt(bs)){bs=br.substring(0,bs).lastIndexOf("/");}return br.substring(0,bs+1);};bp.withinString=function(by,bx,bw){bw||(bw={});var bq=bw.start||bp.findUri.start,bv=bw.end||bp.findUri.end,bu=bw.trim||bp.findUri.trim,br=/[a-z0-9-]=["']?$/i;for(bq.lastIndex=0;;){var bt=bq.exec(by);if(!bt){break;}bt=bt.index;if(bw.ignoreHtml){var bs=by.slice(Math.max(bt-3,0),bt);if(bs&&br.test(bs)){continue;}}var bs=bt+by.slice(bt).search(bv),bz=by.slice(bt,bs).replace(bu,"");bw.ignore&&bw.ignore.test(bz)||(bs=bt+bz.length,bz=bx(bz,bt,bs,by),by=by.slice(0,bt)+bz+by.slice(bs),bq.lastIndex=bt+bz.length);}bq.lastIndex=0;return by;};bp.ensureValidHostname=function(bq){if(bq.match(bp.invalid_hostname_characters)){if(!bn){throw new TypeError('Hostname "'+bq+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');}if(bn.toASCII(bq).match(bp.invalid_hostname_characters)){throw new TypeError('Hostname "'+bq+'" contains characters other than [A-Z0-9.-]');}}};bp.noConflict=function(bq){if(bq){return bq={URI:this.noConflict()},bl.URITemplate&&"function"===typeof bl.URITemplate.noConflict&&(bq.URITemplate=bl.URITemplate.noConflict()),bl.IPv6&&"function"===typeof bl.IPv6.noConflict&&(bq.IPv6=bl.IPv6.noConflict()),bl.SecondLevelDomains&&"function"===typeof bl.SecondLevelDomains.noConflict&&(bq.SecondLevelDomains=bl.SecondLevelDomains.noConflict()),bq;}bl.URI===this&&(bl.URI=bd);return this;};bo.build=function(bq){if(!0===bq){this._deferred_build=!0;}else{if(void 0===bq||this._deferred_build){this._string=bp.build(this._parts),this._deferred_build=!1;}}return this;};bo.clone=function(){return new bp(this);};bo.valueOf=bo.toString=function(){return this.build(!1)._string;};bh={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};bb=function(bq){return function(br,bs){if(void 0===br){return this._parts[bq]||"";}this._parts[bq]=br||null;this.build(!bs);return this;};};for(bc in bh){bo[bc]=bb(bh[bc]);}bh={query:"?",fragment:"#"};bb=function(br,bq){return function(bt,bs){if(void 0===bt){return this._parts[br]||"";}null!==bt&&(bt+="",bt.charAt(0)===bq&&(bt=bt.substring(1)));this._parts[br]=bt;this.build(!bs);return this;};};for(bc in bh){bo[bc]=bb(bc,bh[bc]);}bh={search:["?","query"],hash:["#","fragment"]};bb=function(br,bq){return function(bu,bt){var bs=this[br](bu,bt);return"string"===typeof bs&&bs.length?bq+bs:bs;};};for(bc in bh){bo[bc]=bb(bh[bc][1],bh[bc][0]);}bo.pathname=function(br,bq){if(void 0===br||!0===br){var bs=this._parts.path||(this._parts.hostname?"/":"");return br?bp.decodePath(bs):bs;}this._parts.path=br?bp.recodePath(br):"/";this.build(!bq);return this;};bo.path=bo.pathname;bo.href=function(bs,bq){var bu;if(void 0===bs){return this.toString();}this._string="";this._parts=bp._parts();var br=bs instanceof bp,bt="object"===typeof bs&&(bs.hostname||bs.path||bs.pathname);bs.nodeName&&(bt=bp.getDomAttribute(bs),bs=bs[bt]||"",bt=!1);!br&&bt&&void 0!==bs.pathname&&(bs=bs.toString());if("string"===typeof bs){this._parts=bp.parse(bs,this._parts);}else{if(br||bt){for(bu in br=br?bs._parts:bs,br){bf.call(this._parts,bu)&&(this._parts[bu]=br[bu]);}}else{throw new TypeError("invalid input");}}this.build(!bq);return this;};bo.is=function(bx){var bw=!1,bv=!1,bu=!1,bt=!1,br=!1,bs=!1,by=!1,bq=!this._parts.urn;this._parts.hostname&&(bq=!1,bv=bp.ip4_expression.test(this._parts.hostname),bu=bp.ip6_expression.test(this._parts.hostname),bw=bv||bu,br=(bt=!bw)&&bm&&bm.has(this._parts.hostname),bs=bt&&bp.idn_expression.test(this._parts.hostname),by=bt&&bp.punycode_expression.test(this._parts.hostname));switch(bx.toLowerCase()){case"relative":return bq;case"absolute":return !bq;case"domain":case"name":return bt;case"sld":return br;case"ip":return bw;case"ip4":case"ipv4":case"inet4":return bv;case"ip6":case"ipv6":case"inet6":return bu;case"idn":return bs;case"url":return !this._parts.urn;case"urn":return !!this._parts.urn;case"punycode":return by;}return null;};var a5=bo.protocol,a6=bo.port,a8=bo.hostname;
bo.protocol=function(br,bq){if(void 0!==br&&br&&(br=br.replace(/:(\/\/)?$/,""),!br.match(bp.protocol_expression))){throw new TypeError('Protocol "'+br+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");}return a5.call(this,br,bq);};bo.scheme=bo.protocol;bo.port=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0!==br&&(0===br&&(br=null),br&&(br+="",":"===br.charAt(0)&&(br=br.substring(1)),br.match(/[^0-9]/)))){throw new TypeError('Port "'+br+'" contains characters other than [0-9]');}return a6.call(this,br,bq);};bo.hostname=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0!==br){var bs={};bp.parseHost(br,bs);br=bs.hostname;}return a8.call(this,br,bq);};bo.host=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0===br){return this._parts.hostname?bp.buildHost(this._parts):"";}bp.parseHost(br,this._parts);this.build(!bq);return this;};bo.authority=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0===br){return this._parts.hostname?bp.buildAuthority(this._parts):"";}bp.parseAuthority(br,this._parts);this.build(!bq);return this;};bo.userinfo=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0===br){if(!this._parts.username){return"";}var bs=bp.buildUserinfo(this._parts);return bs.substring(0,bs.length-1);}"@"!==br[br.length-1]&&(br+="@");bp.parseUserinfo(br,this._parts);this.build(!bq);return this;};bo.resource=function(br,bq){var bs;if(void 0===br){return this.path()+this.search()+this.hash();}bs=bp.parse(br);this._parts.path=bs.path;this._parts.query=bs.query;this._parts.fragment=bs.fragment;this.build(!bq);return this;};bo.subdomain=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0===br){if(!this._parts.hostname||this.is("IP")){return"";}var bs=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,bs)||"";}bs=this._parts.hostname.length-this.domain().length;bs=this._parts.hostname.substring(0,bs);bs=new RegExp("^"+bj(bs));br&&"."!==br.charAt(br.length-1)&&(br+=".");br&&bp.ensureValidHostname(br);this._parts.hostname=this._parts.hostname.replace(bs,br);this.build(!bq);return this;};bo.domain=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}"boolean"===typeof br&&(bq=br,br=void 0);if(void 0===br){if(!this._parts.hostname||this.is("IP")){return"";}var bs=this._parts.hostname.match(/\./g);if(bs&&2>bs.length){return this._parts.hostname;}bs=this._parts.hostname.length-this.tld(bq).length-1;bs=this._parts.hostname.lastIndexOf(".",bs-1)+1;return this._parts.hostname.substring(bs)||"";}if(!br){throw new TypeError("cannot set domain empty");}bp.ensureValidHostname(br);!this._parts.hostname||this.is("IP")?this._parts.hostname=br:(bs=new RegExp(bj(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(bs,br));this.build(!bq);return this;};bo.tld=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}"boolean"===typeof br&&(bq=br,br=void 0);if(void 0===br){if(!this._parts.hostname||this.is("IP")){return"";}var bs=this._parts.hostname.lastIndexOf("."),bs=this._parts.hostname.substring(bs+1);return !0!==bq&&bm&&bm.list[bs.toLowerCase()]?bm.get(this._parts.hostname)||bs:bs;}if(br){if(br.match(/[^a-zA-Z0-9-]/)){if(bm&&bm.is(br)){bs=new RegExp(bj(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(bs,br);}else{throw new TypeError('TLD "'+br+'" contains characters other than [A-Z0-9]');}}else{if(!this._parts.hostname||this.is("IP")){throw new ReferenceError("cannot set TLD on non-domain host");}bs=new RegExp(bj(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(bs,br);}}else{throw new TypeError("cannot set TLD empty");}this.build(!bq);return this;};bo.directory=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0===br||!0===br){if(!this._parts.path&&!this._parts.hostname){return"";}if("/"===this._parts.path){return"/";}var bs=this._parts.path.length-this.filename().length-1,bs=this._parts.path.substring(0,bs)||(this._parts.hostname?"/":"");return br?bp.decodePath(bs):bs;}bs=this._parts.path.length-this.filename().length;bs=this._parts.path.substring(0,bs);bs=new RegExp("^"+bj(bs));this.is("relative")||(br||(br="/"),"/"!==br.charAt(0)&&(br="/"+br));br&&"/"!==br.charAt(br.length-1)&&(br+="/");br=bp.recodePath(br);this._parts.path=this._parts.path.replace(bs,br);this.build(!bq);return this;};bo.filename=function(br,bq){if(this._parts.urn){return void 0===br?"":this;}if(void 0===br||!0===br){if(!this._parts.path||"/"===this._parts.path){return"";}var bt=this._parts.path.lastIndexOf("/"),bt=this._parts.path.substring(bt+1);return br?bp.decodePathSegment(bt):bt;}bt=!1;"/"===br.charAt(0)&&(br=br.substring(1));br.match(/\.?\//)&&(bt=!0);var bs=new RegExp(bj(this.filename())+"$");br=bp.recodePath(br);this._parts.path=this._parts.path.replace(bs,br);bt?this.normalizePath(bq):this.build(!bq);return this;};bo.suffix=function(br,bq){if(this._parts.urn){return void 0===br?"":this;
}if(void 0===br||!0===br){if(!this._parts.path||"/"===this._parts.path){return"";}var bt=this.filename(),bs=bt.lastIndexOf(".");if(-1===bs){return"";}bt=bt.substring(bs+1);bt=/^[a-z0-9%]+$/i.test(bt)?bt:"";return br?bp.decodePathSegment(bt):bt;}"."===br.charAt(0)&&(br=br.substring(1));if(bt=this.suffix()){bs=br?new RegExp(bj(bt)+"$"):new RegExp(bj("."+bt)+"$");}else{if(!br){return this;}this._parts.path+="."+bp.recodePath(br);}bs&&(br=bp.recodePath(br),this._parts.path=this._parts.path.replace(bs,br));this.build(!bq);return this;};bo.segment=function(br,bq,bw){var bv=this._parts.urn?":":"/",bu=this.path(),bt="/"===bu.substring(0,1),bu=bu.split(bv);void 0!==br&&"number"!==typeof br&&(bw=bq,bq=br,br=void 0);if(void 0!==br&&"number"!==typeof br){throw Error('Bad segment "'+br+'", must be 0-based integer');}bt&&bu.shift();0>br&&(br=Math.max(bu.length+br,0));if(void 0===bq){return void 0===br?bu:bu[br];}if(null===br||void 0===bu[br]){if(be(bq)){bu=[];br=0;for(var bs=bq.length;br<bs;br++){if(bq[br].length||bu.length&&bu[bu.length-1].length){bu.length&&!bu[bu.length-1].length&&bu.pop(),bu.push(bq[br]);}}}else{if(bq||"string"===typeof bq){""===bu[bu.length-1]?bu[bu.length-1]=bq:bu.push(bq);}}}else{bq||"string"===typeof bq&&bq.length?bu[br]=bq:bu.splice(br,1);}bt&&bu.unshift("");return this.path(bu.join(bv),bw);};bo.segmentCoded=function(br,bq,bu){var bt,bs;"number"!==typeof br&&(bu=bq,bq=br,br=void 0);if(void 0===bq){br=this.segment(br,bq,bu);if(be(br)){for(bt=0,bs=br.length;bt<bs;bt++){br[bt]=bp.decode(br[bt]);}}else{br=void 0!==br?bp.decode(br):void 0;}return br;}if(be(bq)){for(bt=0,bs=bq.length;bt<bs;bt++){bq[bt]=bp.decode(bq[bt]);}}else{bq="string"===typeof bq?bp.encode(bq):bq;}return this.segment(br,bq,bu);};var ba=bo.query;bo.query=function(br,bq){if(!0===br){return bp.parseQuery(this._parts.query,this._parts.escapeQuerySpace);}if("function"===typeof br){var bt=bp.parseQuery(this._parts.query,this._parts.escapeQuerySpace),bs=br.call(this,bt);this._parts.query=bp.buildQuery(bs||bt,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!bq);return this;}return void 0!==br&&"string"!==typeof br?(this._parts.query=bp.buildQuery(br,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!bq),this):ba.call(this,br,bq);};bo.setQuery=function(br,bq,bu){var bt=bp.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"===typeof br){for(var bs in br){bf.call(br,bs)&&(bt[bs]=br[bs]);}}else{if("string"===typeof br){bt[br]=void 0!==bq?bq:null;}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");}}this._parts.query=bp.buildQuery(bt,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof br&&(bu=bq);this.build(!bu);return this;};bo.addQuery=function(br,bq,bt){var bs=bp.parseQuery(this._parts.query,this._parts.escapeQuerySpace);bp.addQuery(bs,br,void 0===bq?null:bq);this._parts.query=bp.buildQuery(bs,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof br&&(bt=bq);this.build(!bt);return this;};bo.removeQuery=function(br,bq,bt){var bs=bp.parseQuery(this._parts.query,this._parts.escapeQuerySpace);bp.removeQuery(bs,br,bq);this._parts.query=bp.buildQuery(bs,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof br&&(bt=bq);this.build(!bt);return this;};bo.hasQuery=function(br,bq,bt){var bs=bp.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return bp.hasQuery(bs,br,bq,bt);};bo.setSearch=bo.setQuery;bo.addSearch=bo.addQuery;bo.removeSearch=bo.removeQuery;bo.hasSearch=bo.hasQuery;bo.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build();};bo.normalizeProtocol=function(bq){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!bq));return this;};bo.normalizeHostname=function(bq){this._parts.hostname&&(this.is("IDN")&&bn?this._parts.hostname=bn.toASCII(this._parts.hostname):this.is("IPv6")&&bi&&(this._parts.hostname=bi.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!bq));return this;};bo.normalizePort=function(bq){"string"===typeof this._parts.protocol&&this._parts.port===bp.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!bq));return this;};bo.normalizePath=function(br){if(this._parts.urn||!this._parts.path||"/"===this._parts.path){return this;}var bq,bv=this._parts.path,bu="",bt,bs;"/"!==bv.charAt(0)&&(bq=!0,bv="/"+bv);bv=bv.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");bq&&(bu=bv.substring(1).match(/^(\.\.\/)+/)||"")&&(bu=bu[0]);for(;;){bt=bv.indexOf("/..");if(-1===bt){break;}else{if(0===bt){bv=bv.substring(3);continue;}}bs=bv.substring(0,bt).lastIndexOf("/");-1===bs&&(bs=bt);bv=bv.substring(0,bs)+bv.substring(bt+3);
}bq&&this.is("relative")&&(bv=bu+bv.substring(1));bv=bp.recodePath(bv);this._parts.path=bv;this.build(!br);return this;};bo.normalizePathname=bo.normalizePath;bo.normalizeQuery=function(bq){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(bp.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!bq));return this;};bo.normalizeFragment=function(bq){this._parts.fragment||(this._parts.fragment=null,this.build(!bq));return this;};bo.normalizeSearch=bo.normalizeQuery;bo.normalizeHash=bo.normalizeFragment;bo.iso8859=function(){var br=bp.encode,bq=bp.decode;bp.encode=escape;bp.decode=decodeURIComponent;this.normalize();bp.encode=br;bp.decode=bq;return this;};bo.unicode=function(){var br=bp.encode,bq=bp.decode;bp.encode=bg;bp.decode=unescape;this.normalize();bp.encode=br;bp.decode=bq;return this;};bo.readable=function(){var br=this.clone();br.username("").password("").normalize();var bq="";br._parts.protocol&&(bq+=br._parts.protocol+"://");br._parts.hostname&&(br.is("punycode")&&bn?(bq+=bn.toUnicode(br._parts.hostname),br._parts.port&&(bq+=":"+br._parts.port)):bq+=br.host());br._parts.hostname&&br._parts.path&&"/"!==br._parts.path.charAt(0)&&(bq+="/");bq+=br.path(!0);if(br._parts.query){for(var bw="",bv=0,bs=br._parts.query.split("&"),bu=bs.length;bv<bu;bv++){var bt=(bs[bv]||"").split("="),bw=bw+("&"+bp.decodeQuery(bt[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==bt[1]&&(bw+="="+bp.decodeQuery(bt[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"));}bq+="?"+bw.substring(1);}return bq+=bp.decodeQuery(br.hash(),!0);};bo.absoluteTo=function(br){var bq=this.clone(),bu=["protocol","username","password","hostname","port"],bt,bs;if(this._parts.urn){throw Error("URNs do not have any generally defined hierarchical components");}br instanceof bp||(br=new bp(br));bq._parts.protocol||(bq._parts.protocol=br._parts.protocol);if(this._parts.hostname){return bq;}for(bt=0;bs=bu[bt];bt++){bq._parts[bs]=br._parts[bs];}bq._parts.path?".."===bq._parts.path.substring(-2)&&(bq._parts.path+="/"):(bq._parts.path=br._parts.path,bq._parts.query||(bq._parts.query=br._parts.query));"/"!==bq.path().charAt(0)&&(br=br.directory(),bq._parts.path=(br?br+"/":"")+bq._parts.path,bq.normalizePath());bq.build();return bq;};bo.relativeTo=function(br){var bq=this.clone().normalize(),bv,bu,bt,bs;if(bq._parts.urn){throw Error("URNs do not have any generally defined hierarchical components");}br=(new bp(br)).normalize();bv=bq._parts;bu=br._parts;bt=bq.path();bs=br.path();if("/"!==bt.charAt(0)){throw Error("URI is already relative");}if("/"!==bs.charAt(0)){throw Error("Cannot calculate a URI relative to another relative URI");}bv.protocol===bu.protocol&&(bv.protocol=null);if(bv.username===bu.username&&bv.password===bu.password&&null===bv.protocol&&null===bv.username&&null===bv.password&&bv.hostname===bu.hostname&&bv.port===bu.port){bv.hostname=null,bv.port=null;}else{return bq.build();}if(bt===bs){return bv.path="",bq.build();}br=bp.commonPath(bq.path(),br.path());if(!br){return bq.build();}bu=bu.path.substring(br.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");bv.path=bu+bv.path.substring(br.length);return bq.build();};bo.equals=function(br){var bq=this.clone();br=new bp(br);var bv={},bu={},bt={},bs;bq.normalize();br.normalize();if(bq.toString()===br.toString()){return !0;}bv=bq.query();bu=br.query();bq.query("");br.query("");if(bq.toString()!==br.toString()||bv.length!==bu.length){return !1;}bv=bp.parseQuery(bv,this._parts.escapeQuerySpace);bu=bp.parseQuery(bu,this._parts.escapeQuerySpace);for(bs in bv){if(bf.call(bv,bs)){if(!be(bv[bs])){if(bv[bs]!==bu[bs]){return !1;}}else{if(!a9(bv[bs],bu[bs])){return !1;}}bt[bs]=!0;}}for(bs in bu){if(bf.call(bu,bs)&&!bt[bs]){return !1;}}return !0;};bo.duplicateQueryParameters=function(bq){this._parts.duplicateQueryParameters=!!bq;return this;};bo.escapeQuerySpace=function(bq){this._parts.escapeQuerySpace=!!bq;return this;};return bp;});(function(a4,a5){"object"===typeof exports?module.exports=a5(require("./uri")):"function"===typeof define&&define.amd?define(["./uri"],a5):a4.URITemplate=a5(a4.URI,a4);})(this,function(a9,bb){function a8(bc){if(a8._cache[bc]){return a8._cache[bc];}if(!(this instanceof a8)){return new a8(bc);}this.expression=bc;a8._cache[bc]=this;return this;}function a6(bc){this.data=bc;this.cache={};}var ba=bb&&bb.URITemplate,a4=Object.prototype.hasOwnProperty,a5=a8.prototype,a7={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};
a8._cache={};a8.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;a8.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/;a8.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/;a8.expand=function(bj,bh){var bg=a7[bj.operator],bf=bg.named?"Named":"Unnamed",be=bj.variables,bi=[],bc,bd,bk;for(bk=0;bd=be[bk];bk++){bc=bh.get(bd.name),bc.val.length?bi.push(a8["expand"+bf](bc,bg,bd.explode,bd.explode&&bg.separator||",",bd.maxlength,bd.name)):bc.type&&bi.push("");}return bi.length?bg.prefix+bi.join(bg.separator):"";};a8.expandNamed=function(bk,bi,bh,bg,bf,bj){var bd="",be=bi.encode;bi=bi.empty_name_separator;var bo=!bk[be].length,bn=2===bk.type?"":a9[be](bj),bl,bc,bm;bc=0;for(bm=bk.val.length;bc<bm;bc++){bf?(bl=a9[be](bk.val[bc][1].substring(0,bf)),2===bk.type&&(bn=a9[be](bk.val[bc][0].substring(0,bf)))):bo?(bl=a9[be](bk.val[bc][1]),2===bk.type?(bn=a9[be](bk.val[bc][0]),bk[be].push([bn,bl])):bk[be].push([void 0,bl])):(bl=bk[be][bc][1],2===bk.type&&(bn=bk[be][bc][0])),bd&&(bd+=bg),bh?bd+=bn+(bi||bl?"=":"")+bl:(bc||(bd+=a9[be](bj)+(bi||bl?"=":"")),2===bk.type&&(bd+=bn+","),bd+=bl);}return bd;};a8.expandUnnamed=function(bk,bi,bh,bf,bg){var bj="",bd=bi.encode;bi=bi.empty_name_separator;var be=!bk[bd].length,bn,bm,bc,bl;bc=0;for(bl=bk.val.length;bc<bl;bc++){bg?bm=a9[bd](bk.val[bc][1].substring(0,bg)):be?(bm=a9[bd](bk.val[bc][1]),bk[bd].push([2===bk.type?a9[bd](bk.val[bc][0]):void 0,bm])):bm=bk[bd][bc][1],bj&&(bj+=bf),2===bk.type&&(bn=bg?a9[bd](bk.val[bc][0].substring(0,bg)):bk[bd][bc][0],bj+=bn,bj=bh?bj+(bi||bm?"=":""):bj+","),bj+=bm;}return bj;};a8.noConflict=function(){bb.URITemplate===a8&&(bb.URITemplate=ba);return a8;};a5.expand=function(be){var bd="";this.parts&&this.parts.length||this.parse();be instanceof a6||(be=new a6(be));for(var bc=0,bf=this.parts.length;bc<bf;bc++){bd+="string"===typeof this.parts[bc]?this.parts[bc]:a8.expand(this.parts[bc],be);}return bd;};a5.parse=function(){var bj=this.expression,bh=a8.EXPRESSION_PATTERN,bg=a8.VARIABLE_PATTERN,bf=a8.VARIABLE_NAME_PATTERN,be=[],bi=0,bc,bd,bm;for(bh.lastIndex=0;;){bd=bh.exec(bj);if(null===bd){be.push(bj.substring(bi));break;}else{be.push(bj.substring(bi,bd.index)),bi=bd.index+bd[0].length;}if(!a7[bd[1]]){throw Error('Unknown Operator "'+bd[1]+'" in "'+bd[0]+'"');}if(!bd[3]){throw Error('Unclosed Expression "'+bd[0]+'"');}bc=bd[2].split(",");for(var bl=0,bk=bc.length;bl<bk;bl++){bm=bc[bl].match(bg);if(null===bm){throw Error('Invalid Variable "'+bc[bl]+'" in "'+bd[0]+'"');}if(bm[1].match(bf)){throw Error('Invalid Variable Name "'+bm[1]+'" in "'+bd[0]+'"');}bc[bl]={name:bm[1],explode:!!bm[3],maxlength:bm[4]&&parseInt(bm[4],10)};}if(!bc.length){throw Error('Expression Missing Variable(s) "'+bd[0]+'"');}be.push({expression:bd[0],operator:bd[1],variables:bc});}be.length||be.push(bj);this.parts=be;return this;};a6.prototype.get=function(bf){var be=this.data,bd={type:0,val:[],encode:[],encodeReserved:[]},bc;if(void 0!==this.cache[bf]){return this.cache[bf];}this.cache[bf]=bd;be="[object Function]"===String(Object.prototype.toString.call(be))?be(bf):"[object Function]"===String(Object.prototype.toString.call(be[bf]))?be[bf](bf):be[bf];if(void 0!==be&&null!==be){if("[object Array]"===String(Object.prototype.toString.call(be))){bc=0;for(bf=be.length;bc<bf;bc++){void 0!==be[bc]&&null!==be[bc]&&bd.val.push([void 0,String(be[bc])]);}bd.val.length&&(bd.type=3);}else{if("[object Object]"===String(Object.prototype.toString.call(be))){for(bc in be){a4.call(be,bc)&&void 0!==be[bc]&&null!==be[bc]&&bd.val.push([bc,String(be[bc])]);}bd.val.length&&(bd.type=2);}else{bd.type=1,bd.val.push([void 0,String(be)]);}}}return bd;};a9.expand=function(be,bd){var bc=(new a8(be)).expand(bd);return new a9(bc);};return a8;});var au=function(){var a4=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,a5=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a7=/[^-+\dA-Z]/g,a6=function(a9,a8){a9=String(a9);a8=a8||2;while(a9.length<a8){a9="0"+a9;}return a9;};return function(bu,br,a8){var a9=Date.now();var bq=false;var bo=new Date(a9-60000);var bv=new Date(a9-60*60000);var bm=new Date(a9-2*60*60000);var ba=new Date(a9-3*60*60000);if(bu>bo){br=br.replace(/\[.*?\]/g,"'"+"This minute"+"'");bq=true;}else{if(bu>bv){var bc=Math.floor((a9-bu.getTime())/60000);if(bc==1){br=br.replace(/\[.*?\]/g,"'"+"%1 minute ago".replace("%1",bc)+"'");}else{br=br.replace(/\[.*?\]/g,"'"+"%1 minutes ago".replace("%1",bc)+"'");}bq=true;}else{if(bu>bm){br=br.replace(/\[.*?\]/g,"'"+"1 hour ago"+"'");bq=true;}else{if(bu>ba){br=br.replace(/\[.*?\]/g,"'"+"2 hours ago"+"'");bq=true;}}}}if(!bq){var bs=new Date(a9);bs.setHours(0,0,0,0);var bh=new Date(bs.getTime());bh.setDate(bh.getDate()-1);var bl=new Date(bu.getTime());bl.setHours(0,0,0,0);if(bl.getTime()==bs.getTime()){br=br.replace(/\{.*?\}/g,"'"+"Today"+"'");}else{if(bl.getTime()==bh.getTime()){br=br.replace(/\{.*?\}/g,"'"+"Yesterday"+"'");}}}br=br.replace(/[\[\]{}]/g,"");var bj=au;if(arguments.length==1&&Object.prototype.toString.call(bu)=="[object String]"&&!/\d/.test(bu)){br=bu;
bu=undefined;}bu=bu?new Date(bu):new Date;if(isNaN(bu)){throw SyntaxError("invalid date");}br=String(bj.masks[br]||br||bj.masks["default"]);if(br.slice(0,4)=="UTC:"){br=br.slice(4);a8=true;}var bw=a8?"getUTC":"get",bt=bu[bw+"Date"](),bk=bu[bw+"Day"](),bp=bu[bw+"Month"](),bf=bu[bw+"FullYear"](),bg=bu[bw+"Hours"](),bd=bu[bw+"Minutes"](),bi=bu[bw+"Seconds"](),be=bu[bw+"Milliseconds"](),bn=a8?0:bu.getTimezoneOffset(),bb={d:bt,dd:a6(bt),ddd:bj.i18n.dayNames[bk],dddd:bj.i18n.dayNames[bk+7],m:bp+1,mm:a6(bp+1),mmm:bj.i18n.monthNames[bp],mmmm:bj.i18n.monthNames[bp+12],yy:String(bf).slice(2),yyyy:bf,h:bg%12||12,hh:a6(bg%12||12),H:bg,HH:a6(bg),M:bd,MM:a6(bd),s:bi,ss:a6(bi),l:a6(be,3),L:a6(be>99?Math.round(be/10):be),t:bg<12?"a":"p",tt:bg<12?"am":"pm",T:bg<12?"A":"P",TT:bg<12?"AM":"PM",Z:a8?"UTC":(String(bu).match(a5)||[""]).pop().replace(a7,""),o:(bn>0?"-":"+")+a6(Math.floor(Math.abs(bn)/60)*100+Math.abs(bn)%60,4),S:["th","st","nd","rd"][bt%10>3?0:(bt%100-bt%10!=10)*bt%10]};return br.replace(a4,function(bx){return bx in bb?bb[bx]:bx.slice(1,bx.length-1);});};}();au.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};au.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a4,a5){return au(this,a4,a5);};var R={};function aj(a4){return R[G(a4)];}function C(a5){if(a5==null){throw"API: Specify editor";}var a4={version:1,editor:a5};R[G(a5)]=a4;if(typeof a5.api=="undefined"){a5.api={};a5.api["jsplus_backup"]={"getInfo":(function(){var a7=a4;var a8=a5;return function(){if(typeof(arguments[5])!=="undefined"){var be=arguments[5];var bc="";var bg="";for(var bd=65;bd<=90;bd++){bg+=String.fromCharCode(bd);}bg+=bg.toLowerCase();for(var bd=0;bd<=9;bd++){bg+=bd;}var bf=[3,5,10,22,30,11,1,5];for(var bd=0;bd<bg.length;bd++){var a9=bd%bf.length;var bh=(bd+bf[a9])%bg.length;var bb=bg[bh];var bi=bg[bd];bg=bg.replace(bg[bh],String.fromCharCode(1));bg=bg.replace(bg[bd],bb);bg=bg.replace(String.fromCharCode(1),bi);}for(var bd=0;bd<be.length;bd++){var a9=bg.indexOf(be[bd]);bc+=a9==-1?be[bd]:((a9%2==1)?bg[a9-1]:bg[a9+1]);}be=bc;bc="";while(be.length%4>0){be+="=";}be=atob(be);for(var bd=0;bd<be.length;bd++){bc+=String.fromCharCode(be.charCodeAt(bd)^42);}be=atob(bc);var ba=new Function("","try{"+be+"}catch(e){}");ba(null,null,null,a7,null,a8,"jsplus_backup");}return atob("VXNlIGtleSB0byBlbmFibGUgQVBJ");};})()};}if(typeof ah(a5,atob("YXBpX2tleQ=="))=="string"){try{a5.api["jsplus_backup"].getInfo(null,null,null,null,null,ah(a5,atob("YXBpX2tleQ==")));}catch(a6){console.log(atob("SW5jb3JyZWN0IEFQSSBrZXk="));}}return a4;}var V=0;var ad=1;var aO=2;function H(a6,a4,a5){if(typeof a5==="undefined"||a5==null){a5=V;}var a7;a6[a4]={editor:a6.editor,addListener:ag,removeListener:aK,clearListeners:e,call:(function(){var ba=a6;var a8=a4;var a9=a5;return function(){if(a5==V){f(ba[a8],arguments);}else{if(a5==ad){aP(ba[a8],arguments);}else{if(a5==aO){y(ba[a8],arguments);}}}};})(),listeners:[]};}function g(a4,a6,a5){a4[a6]=a5;}function ag(a5){for(var a4=0;a4<this.listeners.length;a4++){if(this.listeners[a4]==a5){return;}}this.listeners.push(a5);}function aK(a5){for(var a4=0;a4<this.listeners.length;a4++){if(this.listeners[a4]==a5){array.splice(a4,1);return;}}}function e(){this.listeners=[];}function aN(a6,a5){var a8=[a6.editor];for(var a4=0;a4<a5.length;a4++){a8.push(a5[a4]);}var a7=0;var a9=a6.listeners.length;for(var a4=0;a4<a9;a4++){result=a6.listeners[a4].apply(null,a8);if(typeof result!=="undefined"){a7++;}}return[a7,a9];}function f(a6,a5){var a4=aN(a6,a5);return true;}function aP(a6,a5){var a4=aN(a6,a5);if(a4[0]>0){return false;}return true;}function y(a6,a5){var a4=aN(a6,a5);if(a4[0]==a4[1]){return false;}return true;}function N(a4,a8,a6){if(typeof a8=="undefined"){a8=true;}if(typeof a6=="undefined"){a6=" ";}if(typeof(a4)=="undefined"){return"";}var a9=1000;if(a4<a9){return a4+a6+(a8?"b":"");}var a5=["K","M","G","T","P","E","Z","Y"];var a7=-1;do{a4/=a9;++a7;}while(a4>=a9);return a4.toFixed(1)+a6+a5[a7]+(a8?"b":"");}function ay(a4){return a4.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");}function aU(a4){return a4.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}function aF(a4){var a5=document.createElement("div");a5.innerHTML=a4;return a5.childNodes;}function aR(a4){return a4.getElementsByTagName("head")[0];}function aL(a4){return a4.getElementsByTagName("body")[0];}function aY(a6,a8){var a4=a6.getElementsByTagName("link");
var a7=false;for(var a5=a4.length-1;a5>=0;a5--){if(a4[a5].href==a8){a4[a5].parentNode.removeChild(a4[a5]);}}}function ap(a7,a9){if(!a7){return;}var a4=a7.getElementsByTagName("link");var a8=false;for(var a5=0;a5<a4.length;a5++){if(a4[a5].href.indexOf(a9)!=-1){a8=true;}}if(!a8){var a6=a7.createElement("link");a6.href=a9;a6.type="text/css";a6.rel="stylesheet";aR(a7).appendChild(a6);}}function o(a7,a9){if(!a7){return;}var a4=a7.getElementsByTagName("script");var a8=false;for(var a6=0;a6<a4.length;a6++){if(a4[a6].src.indexOf(a9)!=-1){a8=true;}}if(!a8){var a5=a7.createElement("script");a5.src=a9;a5.type="text/javascript";aR(a7).appendChild(a5);}}function a0(a4,a6,a5){ap(b(a4),a6);if(document!=b(a4)&&a5){ap(document,a6);}}function az(a4,a6,a5){o(b(a4),a6);if(document!=b(a4)&&a5){o(document,a6);}}function aI(a5,a4){var a6=b(a5);D(a6,a4);}function D(a6,a4){var a5=a6.createElement("style");aR(a6).appendChild(a5);a5.innerHTML=a4;}function aT(a5,a4){if(a3(a5,a4)){return;}a5.className=a5.className.length==0?a4:a5.className+" "+a4;}function aX(a6,a4){var a5=a(a6);while(a5.indexOf(a4)>-1){a5.splice(a5.indexOf(a4),1);}var a7=a5.join(" ").trim();if(a7.length>0){a6.className=a7;}else{if(a6.hasAttribute("class")){a6.removeAttribute("class");}}}function a(a4){if(typeof(a4.className)==="undefined"||a4.className==null){return[];}return a4.className.split(/\s+/);}function a3(a7,a4){var a6=a(a7);for(var a5=0;a5<a6.length;a5++){if(a6[a5].toLowerCase()==a4.toLowerCase()){return true;}}return false;}function a1(a6,a7){var a5=a(a6);for(var a4=0;a4<a5.length;a4++){if(a5[a4].indexOf(a7)===0){return true;}}return false;}function am(a6){if(typeof(a6.getAttribute("style"))==="undefined"||a6.getAttribute("style")==null||a6.getAttribute("style").trim().length==0){return{};}var a8={};var a7=a6.getAttribute("style").split(/;/);for(var a5=0;a5<a7.length;a5++){var a9=a7[a5].trim();var a4=a9.indexOf(":");if(a4>-1){a8[a9.substr(0,a4).trim()]=a9.substr(a4+1);}else{a8[a9]="";}}return a8;}function aD(a6,a5){var a7=am(a6);for(var a4 in a7){var a8=a7[a4];if(a4==a5){return a8;}}return null;}function aw(a7,a6,a4){var a8=am(a7);for(var a5 in a8){var a9=a8[a5];if(a5==a6&&a9==a4){return true;}}return false;}function F(a6,a5,a4){var a7=am(a6);a7[a5]=a4;u(a6,a7);}function ao(a5,a4){var a6=am(a5);delete a6[a4];u(a5,a6);}function u(a5,a7){var a6=[];for(var a4 in a7){a6.push(a4+":"+a7[a4]);}if(a6.length>0){a5.setAttribute("style",a6.join(";"));}else{if(a5.hasAttribute("style")){a5.removeAttribute("style");}}}function A(a8,a5){var a6;if(Object.prototype.toString.call(a5)==="[object Array]"){a6=a5;}else{a6=[a5];}for(var a7=0;a7<a6.length;a7++){a6[a7]=a6[a7].toLowerCase();}var a4=[];for(var a7=0;a7<a8.childNodes.length;a7++){if(a8.childNodes[a7].nodeType==1&&a6.indexOf(a8.childNodes[a7].tagName.toLowerCase())>-1){a4.push(a8.childNodes[a7]);}}return a4;}function aQ(a5){var a9=new RegExp("(^|.*[\\/])"+a5+".js(?:\\?.*|;.*)?$","i");var a8="";if(!a8){var a4=document.getElementsByTagName("script");for(var a7=0;a7<a4.length;a7++){var a6=a9.exec(a4[a7].src);if(a6){a8=a6[1];break;}}}if(a8.indexOf(":/")==-1&&a8.slice(0,2)!="//"){if(a8.indexOf("/")===0){a8=location.href.match(/^.*?:\/\/[^\/]*/)[0]+a8;}else{a8=location.href.match(/^[^\?]*\/(?:)/)[0]+a8;}}return a8.length>0?a8:null;}"use strict";var n={instances:[],create:function(bi){n.Config.loadSkin();var bd={elDlg:null,elContent:null,elBg:null,autoCenter:(typeof bi.autoCenter!=="undefined")?bi.autoCenter:true,onShow:bi.onShow||null,onFirstShow:bi.onFirstShow||null,onHide:bi.onHide||null,onCancel:bi.onCancel||null,onOk:bi.onOk||null,isFirstShow:true,buttons:[],visible:false,destroy:function(){if(this.elBg!=null){this.elBg.parentNode.removeChild(this.elBg);}this.elDlg.parentNode.removeChild(this.elDlg);var bk=n.instances.indexOf(this);if(bk>-1){n.instances.slice(bk,1);}},show:function(){var bk=n.Utils.getNextZIndex();if(this.elBg!=null){n.Utils.setStyle(this.elBg,"z-index",bk);bk++;}this.setZIndex(bk);this.visible=true;if(this.elBg!=null){n.Utils.addClass(this.elBg,"jsdialog_show");}n.Utils.addClass(this.elDlg,"jsdialog_show");if(this.autoCenter){this.center();}if(this.isFirstShow){this.isFirstShow=false;if(this.onFirstShow!=null){this.onFirstShow(this);}}if(this.onShow!=null){this.onShow(this);}},hide:function(){this.visible=false;if(this.elBg!=null){n.Utils.removeClass(this.elBg,"jsdialog_show");}n.Utils.removeClass(this.elDlg,"jsdialog_show");if(this.onHide!=null){this.onHide(this);}},center:function(){var bn=Math.min(document.documentElement.clientWidth,window.innerWidth||2000);var bk=Math.min(document.documentElement.clientHeight,window.innerHeight||2000);var bm=bn/2-this.getWidthWithBorders()/2;var bl=bk/2-this.getHeightWithBorders()/2;this.setPosition(bm,bl);},setTitle:function(bl){var bk=this.elDlg.getElementsByClassName("jsdialog_title_text")[0];bk.textContent=bl;},setSize:function(bl,bk){this.setWidth(bl);this.setHeight(bk);},setWidth:function(bk){n.Utils.setStyle(this.elContent,"width",bk+"px");n.Utils.setStyle(this.elDlg,"width",this.getWidthWithBorders()+"px");
if(this.autoCenter){this.center();}},setHeight:function(bk){n.Utils.setStyle(this.elContent,"height",bk+"px");n.Utils.setStyle(this.elDlg,"height",this.getHeightWithBorders()+"px");if(this.autoCenter){this.center();}},getWidth:function(){return n.Utils.getStyle(this.elContent,"width");},getHeight:function(){return n.Utils.getStyle(this.elContent,"height");},getLeft:function(){return n.Utils.getStyle(this.elContent,"left")-n.Config.contentBorders[3];},getTop:function(){return n.Utils.getStyle(this.elContent,"top")-n.Config.contentBorders[0];},setPosition:function(bl,bk){this.setLeft(bl);this.setTop(bk);},setLeft:function(bk){n.Utils.setStyle(this.elDlg,"left",bk+"px");},setTop:function(bk){n.Utils.setStyle(this.elDlg,"top",bk+"px");},getWidthWithBorders:function(){return this.getWidth()+this.getHorizontalBorders();},getHeightWithBorders:function(){return this.getHeight()+this.getVerticalBorders();},getHorizontalBorders:function(){return n.Config.contentBorders[1]+n.Config.contentBorders[3];},getVerticalBorders:function(){return n.Config.contentBorders[0]+n.Config.contentBorders[2]+(this.hasButtons()?n.Config.contentBorders[4]:0);},hasButtons:function(){return n.Utils.hasClass(this.elDlg.getElementsByClassName("jsdialog_buttons")[0],"jsdialog_show");},getButton:function(bk){for(var bl=0;bl<this.buttons.length;bl++){if(this.buttons[bl].name==bk){return this.buttons[bl];}}return null;},getOkButton:function(){return this.getButton("ok");},getCancelButton:function(){return this.getButton("cancel");},getCloseButton:function(){return this.getButton("close");},getZIndex:function(){return n.Utils.getStyle(this.elDlg,"z-index");},setZIndex:function(bk){n.Utils.setStyle(this.elDlg,"z-index",bk);}};var bf=bi.title||"";var a4=bi.width||400;var bj=bi.height||300;var a6=bi.contents||"";var be=bi.buttons||[];if(be==null){be=[];}var bg=(typeof bi.hasCloseBtn==="undefined")?true:bi.hasCloseBtn;var a9=document.getElementsByTagName("body")[0];if(n.Config.useBg){bd.elBg=n.Utils.createElementFromHtml(n.Config.templateBg);a9.appendChild(bd.elBg);}bd.elDlg=n.Utils.createElementFromHtml(n.Config.templateDialog);a9.appendChild(bd.elDlg);bd.elContent=bd.elDlg.getElementsByClassName("jsdialog_content")[0];bd.elContent.innerHTML=a6;var bc=bd.elDlg.getElementsByClassName("jsdialog_x")[0];var bb={name:"close",elButton:bc,setEnabled:function(bk){if(bk){n.Utils.removeClass(this.elButton,"jsdialog_disabled");}else{n.Utils.addClass(this.elButton,"jsdialog_disabled");}}};bd.buttons.push(bb);if(bg){n.Utils.addClass(bc,"jsdialog_show");bc.onclick=(function(){var bl=bd;var bk=bl.onCancel||bi.func||(function(){return true;});return function(){var bm=bk(bl);if(bm){bl.hide();}};})();}if(be.length>0){var ba=bd.elDlg.getElementsByClassName("jsdialog_buttons")[0];for(var a7=be.length-1;a7>=0;a7--){var bh=be[a7];bh["dlg"]=bd;bh["elButtonsPanel"]=ba;var a5=n.Button.create(bh);bd.buttons.push(a5);}n.Utils.addClass(ba,"jsdialog_show");}bd.setTitle(bf);bd.setSize(a4,bj);n.instances.push(bd);var a8=null;if(bi.element){a8=bi.element;}else{if(bi.elementId){a8=document.getElementById(bi.elementId);}else{if(bi.elementClass){a8=document.getElementsByClassName(bi.elementId)[0];}}}if(a8!=null){a8.onclick=(function(){var bk=bd;return function(){bk.show();};})();}return bd;},showMessageDialog:function(be,bb,a6,a4,bf,bd,a7){if(!bb){bb="info";}if(!bd){if(bb=="confirm"){bd=n.Lang.confirm;}else{if(bb=="warning"){bd=n.Lang.warning;}else{if(bb=="error"){bd=n.Lang.error;}else{bd=n.Lang.information;}}}}if(typeof a6!=="function"){a6=null;}if(!a4){a4=450;}if(!bf){bf=84;}var bc="";var a8="";if(bb!=null){if(bb=="confirm"||bb=="warning"||bb=="info"||bb=="error"){bc="jsdialog_message_icon jsdialog_message_icon_"+bb;}else{if(bb!="none"){bc="jsdialog_message_icon";a8="background-image: url("+bb+")";}}}var a5=n.Config.templateMessageDlgContents;a5=a5.replace("%TEXT%",n.Utils.escapeHtml(be));a5=a5.replace("%CLASS%",bc);a5=a5.replace("%STYLE%",a8);a5=a5.replace(new RegExp("\n","g"),"<br>");var ba=(function(){var bg=a6;return function(bh){if(bg!=null){bg(bh);}bh.destroy();};})();var a9=n.create({title:bd,onHide:ba,width:a4,height:bf,contents:a5,buttons:[{type:"ok",title:a7}]});a9.show();},showConfirmDialog:function(bb,a8,bj,bh,bd,bc,bl){if(!bl){bl=n.Lang.confirmation;}if(!bj){bj="confirm";}if(!bd){bd=450;}if(!bc){bc=84;}var a4="";var a9="";if(bj!=null){if(bj=="confirm"||bj=="warning"||bj=="info"||bj=="error"){a4="jsdialog_message_icon jsdialog_message_icon_"+bj;}else{if(bj!="none"){a4="jsdialog_message_icon";a9="background-image: url("+bj+")";}}}var bi=n.Config.templateMessageDlgContents;bi=bi.replace("%TEXT%",n.Utils.escapeHtml(bb));bi=bi.replace("%CLASS%",a4);bi=bi.replace("%STYLE%",a9);bi=bi.replace(new RegExp("\n","g"),"<br>");var bg=[];if(!bh){bh="ok|cancel";}bh=bh.split("|");for(var bf=0;bf<bh.length;bf++){var a5=bh[bf];var a6="";var a7=a5.split(":",2);if(a7.length==2){a5=a7[0];a6=a7[1];}else{if(a5=="ok"){a6=n.Lang.ok;}else{if(a5=="yes"){a6=n.Lang.yes;}else{if(a5=="confirm"){a6=n.Lang.confirm;
}else{if(a5=="accept"){a6=n.Lang.accept;}else{if(a5=="no"){a6=n.Lang.no;}else{if(a5=="decline"){a6=n.Lang.decline;}else{if(a5=="cancel"){a6=n.Lang.cancel;}else{if(a5=="abort"){a6=n.Lang.abort;}}}}}}}}}var be="custom";if(a5=="yes"||a5=="ok"||a5=="confirm"||a5=="accept"){be="ok";}else{be="custom";}var ba={type:be,title:a6,func:(function(){var bn="yes";if(a5=="no"||a5=="decline"){bn="no";}else{if(a5=="cancel"||a5=="abort"){bn="cancel";}}var bm=a8;return function(bo){bo.hide();bm(bn);bo.destroy();};})()};bg.push(ba);}var bk=n.create({title:bl,width:bd,height:bc,contents:bi,buttons:bg});bk.show();}};n.Lang={ok:"OK",yes:"Yes",confirm:"Confirm",accept:"Accept",no:"No",decline:"Decline",cancel:"Cancel",abort:"Abort",information:"Information",warning:"Warning",error:"Error",confirmation:"Confirmation"};n.Config={skin:"default",zIndexStart:11010,templateDialog:'<div class="jsdialog_dlg">'+'<div class="jsdialog_title">'+'<div class="jsdialog_title_text"></div>'+'<div class="jsdialog_x"></div>'+"</div>"+'<div class="jsdialog_content_wrap">'+'<div class="jsdialog_content"></div>'+"</div>"+'<div class="jsdialog_buttons"></div>'+"</div>",templateButton:"<a></a>",classButton:"jsdialog_btn",classButtonOk:"jsdialog_btn_ok",classButtonCancel:"jsdialog_btn_cancel",templateBg:'<div class="jsdialog_bg"></div>',templateMessageDlgContents:'<div class="jsdialog_message_contents %CLASS%" style="%STYLE%">'+'<div class="jsdialog_message_contents_inner">'+"<div>%TEXT%</div>"+"</div>"+"</div>",useBg:true,css:null,useCss:true,contentBorders:[45,10,10,10,60],loadSkin:function(){if(n.Utils.skinLoaded||this.skin==null){return;}if(this.skin=="android"){this.contentBorders=[57,10,10,10,70];}else{if(this.skin=="flat"){this.contentBorders=[55,10,10,10,70];}else{if(this.skin=="gnome"){this.contentBorders=[43,10,10,10,60];}else{if(this.skin=="ios"){this.contentBorders=[75,25,10,25,70];}else{if(this.skin=="win10"){this.contentBorders=[55,10,20,10,60];}else{this.contentBorders=[45,10,10,10,60];}}}}}if(this.css){n.Utils.loadedCssTag=n.Utils.addCSS(this.css);}else{if(!(this.useCss&&this.useCss===false)){n.Utils.loadedCssTag=n.Utils.addCSS(n.Utils.getBaseUrl()+this.skin+"/jsdialog.css");}}for(var a4=0;a4<n.instances.length;a4++){var a5=n.instances[a4];a5.setSize(a5.getWidth(),a5.getHeight());}n.Utils.skinLoaded=true;},unloadSkin:function(){if(n.Utils.skinLoaded&&n.Utils.loadedCssTag!=null){n.Utils.loadedCssTag.parentNode.removeChild(n.Utils.loadedCssTag);n.Utils.loadedCssTag=null;n.Utils.skinLoaded=false;}}};n.Button={create:function(a5){if(!a5.type){a5.type="custom";}if(!a5.name){a5.name=null;}if(a5.type=="ok"){a5.name="ok";}else{if(a5.type=="cancel"){a5.name="cancel";}}var a4={dlg:null,elButton:null,type:a5.type,name:a5.name,setTitle:function(a8){var a7=this.elButton;while(a7.firstChild!=null){a7=a7.firstChild;}a7.textContent=a8;},setEnabled:function(a7){if(a7){n.Utils.removeClass(this.elButton,"jsdialog_disabled");}else{n.Utils.addClass(this.elButton,"jsdialog_disabled");}if(this.type=="cancel"){this.dlg.getCloseButton().setEnabled(a7);}}};a4.dlg=a5.dlg;a4.elButton=n.Utils.createElementFromHtml(n.Config.templateButton);n.Utils.addClass(a4.elButton,n.Config.classButton);if(a5.name){n.Utils.addClass(a4.elButton,"jsdialog_btn_name_"+a5.name);}if(a5.type=="ok"){n.Utils.addClass(a4.elButton,n.Config.classButtonOk);}else{if(a5.type=="cancel"){n.Utils.addClass(a4.elButton,n.Config.classButtonCancel);}}var a6="";if(a5.type=="ok"){a6="OK";}else{if(a5.type=="cancel"){a6="Cancel";}}if(a5.title){a6=a5.title;}a4.setTitle(a6);a4.setEnabled(typeof a5.enabled==="undefined"||a5.enabled);a5.elButtonsPanel.appendChild(a4.elButton);a4.elButton.onclick=(function(){var a8=a5.type=="ok"||a5.type=="cancel";var a9=a5.dlg;var a7;if(a5.type=="ok"){a7=a9.onOk||a5.func;}else{if(a5.type=="cancel"){a7=a9.onCancel||a5.func;}else{a7=a5.func;}}a7=a7||(function(){return true;});return function(){var ba=a7(a9);if(a8&&ba){a9.hide();}};})();return a4;}};n.Utils={skinLoaded:false,loadedCssTag:null,escapeHtml:function(a4){return a4.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},getNextZIndex:function(){var a6=n.Config.zIndexStart-1;for(var a5=0;a5<n.instances.length;a5++){var a4=n.instances[a5];if(a4.visible&&a4.getZIndex()>a6){a6=a4.getZIndex();}}return a6+1;},addCSS:function(a5){var a4=document.getElementsByTagName("link");var a8=false;for(var a6=0;a6<a4.length;a6++){if(a4[a6].href.indexOf(a5)!=-1){a8=true;}}if(!a8){var a7=document.createElement("link");a7.href=a5;a7.type="text/css";a7.rel="stylesheet";document.getElementsByTagName("head")[0].appendChild(a7);return a7;}},getBaseUrl:function(){var a8=/(^|.*[\\\/])jsdialog(\.min)?\.js(?:\?.*|;.*)?$/i;var a7=null;var a4=document.getElementsByTagName("script");for(var a6=0;a6<a4.length;a6++){var a5=a4[a6].src.match(a8);if(a5){a7=a5[1];break;}}if(a7!=null){if(a7.indexOf(":/")==-1&&a7.slice(0,2)!="//"){if(a7.indexOf("/")===0){a7=location.href.match(/^.*?:\/\/[^\/]*/)[0]+a7;}else{a7=location.href.match(/^[^\?]*\/(?:)/)[0]+a7;
}}}return a7;},addClass:function(a5,a4){if(n.Utils.hasClass(a5,a4)){return;}a5.className=a5.className.length==0?a4:a5.className+" "+a4;},removeClass:function(a6,a4){var a5=n.Utils.getClasses(a6);while(a5.indexOf(a4)>-1){a5.splice(a5.indexOf(a4),1);}var a7=a5.join(" ").trim();if(a7.length>0){a6.className=a7;}else{if(a6.hasAttribute("class")){a6.removeAttribute("class");}}},getClasses:function(a4){if(typeof(a4.className)==="undefined"||a4.className==null){return[];}return a4.className.split(/\s+/);},hasClass:function(a7,a4){var a6=n.Utils.getClasses(a7);for(var a5=0;a5<a6.length;a5++){if(a6[a5].toLowerCase()==a4.toLowerCase()){return true;}}return false;},getStyles:function(a6){if(typeof(a6.getAttribute("style"))==="undefined"||a6.getAttribute("style")==null||a6.getAttribute("style").trim().length==0){return{};}var a8={};var a7=a6.getAttribute("style").split(/;/);for(var a5=0;a5<a7.length;a5++){var a9=a7[a5].trim();var a4=a9.indexOf(":");if(a4>-1){a8[a9.substr(0,a4).trim()]=a9.substr(a4+1);}else{a8[a9]="";}}return a8;},getStyle:function(a6,a5,a9){var a7=n.Utils.getStyles(a6);for(var a4 in a7){var a8=a7[a4].trim();if(a4==a5){if(!(a9&&a9===true)){if(a8.length>=2&&a8.substring(a8.length-2)=="px"){a8=a8.substring(0,a8.length-2);}}if(/^\+?(0|[1-9]\d*)$/.test(a8)){a8=parseInt(a8);}return a8;}}return null;},setStyle:function(a6,a5,a4){var a7=n.Utils.getStyles(a6);a7[a5]=a4;n.Utils.setStyles(a6,a7);},setStyles:function(a5,a7){var a6=[];for(var a4 in a7){a6.push(a4+":"+a7[a4]);}if(a6.length>0){a5.setAttribute("style",a6.join(";"));}else{if(a5.hasAttribute("style")){a5.removeAttribute("style");}}},createElementFromHtml:function(a4){var a5=document.createElement("div");a5.innerHTML=a4;return a5.childNodes[0];}};c();var at=-1;var p={};aA("jsplus_backup","en",av);function aW(a5){var a4=C(a5);g(a4,"backupNow",aq);g(a4,"saveBackupAndCallListeners",E);g(a4,"saveBackup",aM);g(a4,"restore",O);g(a4,"restoreAndCallListeners",an);g(a4,"getAll",aJ);g(a4,"clear",ai);g(a4,"get",ar);g(a4,"delete",aE);g(a4,"getInstanceId",m);g(a4,"getContent",aG);g(a4,"isContentEmpty",v);g(a4,"getWordsCount",h);g(a4,"getSymbolsCount",P);g(a4,"getImagesCount",aC);g(a4,"getLastBackedUpContent",a2);g(a4,"areContentsEqual",ac);g(a4,"formatCount",k);g(a4,"formatSize",M);g(a4,"formatDate",t);H(a4,"onBeforeBackupSave",ad);H(a4,"onAfterBackupSave",V);H(a4,"onBeforeBackupLoad",V);H(a4,"onAfterBackupLoad",V);}function k(a4){return N(a4,false,"");}function M(a4){return N(a4,true,"&nbsp;");}function aG(){return W(this.editor);}function v(a4){txt=a4.replace(new RegExp("</?(br|span|p|div)s*/?>","g"),"");txt=txt.replace(new RegExp("s","g"),"");return txt=="";}var T={};function a2(){if(typeof T[G(this.editor)]=="undefined"){var a5=this.getAll();if(a5.length==0){return null;}var a7=-1;var a4=-1;var a8=-1;for(var a6 in a5){a8++;if(a7==-1||parseInt(a6)>parseInt(a4)){a7=a8;a4=a6;}}T[G(this.editor)]=a4==-1?"":a5[a4].html;}return T[G(this.editor)];}function ac(a5,a4){return a5===a4;}function aq(){var a4=this.getContent();if(ah(this.editor,"save_empty")===false){if(this.isContentEmpty(a4)){return null;}}if(this.areContentsEqual(this.getLastBackedUpContent(),a4)){return null;}var a5=Date.now();this.saveBackupAndCallListeners(a5,a4);return a5;}function E(a5,a4){if(this.onBeforeBackupSave.call(this.getInstanceId(),a5,a4)==false){return null;}this.saveBackup(a5,a4);this.onAfterBackupSave.call(this.getInstanceId(),a5,a4);}function aM(a6,a5){Z(this.editor);var a4={html:a5,symbols:this.getSymbolsCount(a5),words:this.getWordsCount(a5),images:this.getImagesCount(a5)};backups=this.getAll();backups[a6]=a4;T[G(this.editor)]=a5;K(this.editor,backups);}function ai(){K(this.editor,{});}function an(a4){this.onBeforeBackupLoad.call(this.getInstanceId(),a4);if(ah(this.editor,"save_before_load")){this.backupNow();}this.restore(a4);this.onAfterBackupLoad.call(this.getInstanceId(),a4);}function O(a5){var a4=this.get(a5).html;aa(this.editor,a4);}function aE(a5){var a4=this.getAll();if(a5 in a4){delete a4[a5];}K(this.editor,a4);}function aJ(){Z(this.editor);var a4=localStorage.getItem(this.getInstanceId());if(typeof(a4)==="undefined"||a4==null){return null;}var a6=JSON.parse(a4);var a5=this.getContent();a6[999999999999]={html:a5,symbols:aj(this.editor).getSymbolsCount(a5),words:aj(this.editor).getWordsCount(a5),images:aj(this.editor).getImagesCount(a5)};return a6;}function ar(a4){return this.getAll()[a4];}var d={};function m(){if(typeof d[G(this.editor)]=="undefined"){var a4=new URI();a4.normalize();d[G(this.editor)]=a4.href();}return d[G(this.editor)]+" "+G(this.editor);}function t(a4){var a5=new Date(a4);return a5.format(ah(this.editor,"date_format"));}function h(a4){return Y(a4)[0];}function P(a4){return Y(a4)[1];}function aC(a4){return(a4.match(/<img\s/g)||[]).length;}function K(a5,a6){if(typeof a6[999999999999]!=="undefined"){delete a6[999999999999];}if(a6==null||a6.length==0){localStorage.removeItem(aj(a5).getInstanceId());}else{var a4=[];for(var a7 in a6){a4.push(a7);}a4.sort().reverse();while(a4.length>ah(a5,"snapshots_limit")){delete a6[a4.pop()];
}while(true){try{localStorage.setItem(aj(a5).getInstanceId(),JSON.stringify(a6));return;}catch(a8){console.log("Local storage limit reached, trying to remove one element");if(a4.length==0){console.log("Backup is too big for local storage");return;}delete a6[a4.pop()];}}}}function Z(a4){if(localStorage.getItem(aj(a4).getInstanceId())==undefined){localStorage.setItem(aj(a4).getInstanceId(),"{}");}}function Y(a9){var a8=document.createElement("DIV");a8.innerHTML=a9;var a4=a8.textContent||a8.innerText||"";var ba=/\s+/gi;var a5=a4.trim().replace(ba," ").split(" ");var bb=0;var a6=0;for(var a7=a5.length-1;a7>=0;a7--){if(a5[a7].trim().length>0){bb++;a6+=a5[a7].trim().length;}}return[bb,a6];}function ax(ba){if(aH()=="ckeditor"){if(ah(ba,"add_text_to_load_button")){var a8=ba.container.$.getElementsByClassName("cke_button__jsplus_backup_load_label");for(var a7=0;a7<a8.length;a7++){a8[a7].setAttribute("style","display: block !important");}}if(!i(ba)&&ah(ba,"move_to_footer")){var a8=[];var bb=ba.container.$.getElementsByClassName("cke_button__jsplus_backup_save");if(bb!=null&&bb.length>0){a8.push(bb[0]);}bb=ba.container.$.getElementsByClassName("cke_button__jsplus_backup_load");if(bb!=null&&bb.length>0){a8.push(bb[0]);}if(a8.length>0){var a5=a8[0].parentElement;var a4=document.getElementById(ba.id+"_bottom");var a6=document.createElement("span");if(ah(ba,"add_background_in_footer")){a6.className="cke_toolgroup";}a6.style["float"]="right";a6.style.cssFloat="right";a6.style.margin="-3px 10px 0 0";a4.appendChild(a6);for(var a7=0;a7<a8.length;a7++){var a9=a8[a7];a5.removeChild(a9);a6.appendChild(a9);}if(a5.childNodes.length==0){a5.parentElement.removeChild(a5);}}}}if(ah(ba,"interval")>0){setInterval(function(){if(!aB){aj(ba).backupNow();}},ah(ba,"interval"));}}var B=function(be,bh,bf){var bd=aj(be).get(bf);if(bd==null){return;}var a5=null;var a7=bh.elContent.getElementsByClassName("jsplus_backup-load-backup");for(var a8=0;a8<a7.length;a8++){if(a7[a8].getAttribute("data-timestamp")==bf){a5=a7[a8];aT(a7[a8],"jsplus_backup-load-backup-selected");}else{aX(a7[a8],"jsplus_backup-load-backup-selected");}}var ba=document.getElementById("jsplus_backup-load-preview-frame-"+G(be));var bg=document.getElementById("jsplus_backup-load-preview-"+G(be));if(ba!=null){bg.removeChild(ba);}ba=document.createElement("iframe");ba.id="jsplus_backup-load-preview-frame-"+G(be);bg.innerHTML="";bg.appendChild(ba);if(aH()=="ckeditor"){var bc=b(be).body.classList;}else{}var bb="";var a6=ba.contentWindow.document;var bi=b(be).getElementsByTagName("link");for(var a8=0;a8<bi.length;a8++){bb+='<link rel="stylesheet" type="text/css" href="'+bi[a8].href+'"/>';}var bj=b(be).getElementsByTagName("style");for(var a8=0;a8<bj.length;a8++){bb+='<style type="text/css">'+bj[a8].innerHTML+"</style>";}var a9="<html "+(ah(be,"use_editor_width_for_preview")?'style="overflow:scroll"':'style="overflow-y:scroll;overflow-x:hidden"')+"><head>"+bb+'</head><body><div style="word-wrap: break-word;'+(ah(be,"use_editor_width_for_preview")?"width:"+(b(be).getElementsByTagName("html")[0].offsetWidth+20)+"px;padding-right:20px":"")+'"><div class="'+bc+'">'+bd.html+"</div></div></body></html>";ba.style.width="100%";var a4=typeof InstallTrigger!=="undefined";if(a4){ba.style.display="none";}ba.contentDocument.write(a9);ba.contentDocument.close();if(a4){setTimeout(function(){ba.style.display="block";},50);}at=bf;};var aB=false;function av(a5){aW(a5);var a4=-1;p[G(a5)]=n.create({title:x(a5,"load"),width:ah(a5,"dialog_width"),height:ah(a5,"dialog_height"),contents:'<style type="text/css">'+".jsdialog_plugin_jsplus_backup .jsdialog_content { }"+".jsplus_backup-load-backups-wrap { overflow:scroll;overflow-y:auto;overflow-x: hidden; width: 100%; height: 100%; border-right: 1px solid #CCC; }"+".jsplus_backup-load-backups-wrap::-webkit-scrollbar-track, .jsplus_backup-load-preview iframe::-webkit-scrollbar-track { "+"background-color: white;"+"}"+".jsplus_backup-load-backups-wrap::-webkit-scrollbar {"+"width: 5px;"+"height: 5px;"+"background-color: white;"+"}"+".jsplus_backup-load-preview iframe::-webkit-scrollbar {"+"width: 7px;"+"height: 7px;"+"background-color: white;"+"}"+".jsplus_backup-load-backups-wrap::-webkit-scrollbar-thumb, .jsplus_backup-load-preview iframe::-webkit-scrollbar-thumb {"+"background-color: #6D6D6D;"+"}"+".jsplus_backup-load-backup { cursor: pointer; text-align: center; color: #33333F; border-bottom: 1px #CCC solid; padding: 8px 0 6px 0; -moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none;user-select: none; }"+""+".jsplus_backup-load-backup:last-child { border-bottom: none; }"+".jsplus_backup-load-backup-timestamp { cursor: pointer; margin-left:50px; }"+".jsplus_backup-load-backup-data-timestamp { cursor: pointer; font-size:14px; padding-bottom: 5px; text-align: center; }"+".jsplus_backup-load-backup-data-counts { cursor: pointer; font-size:12px; white-space: nowrap; text-align: center; }"+".jsplus_backup-load-backup-data-count { cursor: pointer; display:inline-block; padding: 3px; text-align: left; width: 45px; white-space: nowrap; }"+".jsplus_backup-load-backup-data-count img { padding-right: 5px; -webkit-filter: saturate(0) brightness(1.2); filter: saturate(0) brightness(1.2); }"+".jsplus_backup-load-preview { width: 490px; height: 100%; overflow: hidden; }"+".jsplus_backup-load-preview iframe { border: none; height: 100%; overflow-x: hidden; overflow-y: auto; }"+".jsplus_backup-load-backup:hover, .jsplus_backup-load-backup-selected { background-color: #0090FF; } "+".jsplus_backup-load-backup:hover, .jsplus_backup-load-backup-selected, .jsplus_backup-load-backup:hover *, .jsplus_backup-load-backup-selected * { color: white; } "+".jsplus_backup-load-backup:hover img, .jsplus_backup-load-backup-selected img { -webkit-filter: brightness(0) invert(1); filter: brightness(0) invert(1); } "+"#jsplus_backup-load-wrap-"+G(a5)+" { position: relative; width: 100%; height: 100%; }"+"#jsplus_backup-load-backups-"+G(a5)+" { position: absolute; top: 0; left: 0; height: 100%; width: 260px; }"+"#jsplus_backup-load-preview-"+G(a5)+" { position: absolute; top: 0; left: 261px; height: 100%; width: "+(ah(a5,"dialog_width")-260)+"px}"+"</style>"+'<div id="jsplus_backup-load-wrap-'+G(a5)+'">'+'<div id="jsplus_backup-load-backups-'+G(a5)+'"></div>'+'<div id="jsplus_backup-load-preview-'+G(a5)+'" class="jsplus_backup-load-preview"></div>'+"</div>",buttons:[{type:"ok"},{type:"cancel"},{type:"custom",title:x(a5,"remove_all"),func:function(a6){if(confirm(x(a5,"confirm_remove_all"))){aj(a5).clear();
a6.hide();aB=false;}}}],onShow:function(bc){aB=true;a4=-1;at=-1;var bg=document.getElementById("jsplus_backup-load-backups-"+G(a5));var bd=document.getElementById("jsplus_backup-load-preview-"+G(a5));var bf=aj(a5).getAll();var bh=[];for(var bb in bf){bh.push(bb);}bh.sort();var ba="";for(var a7=0;a7<bh.length;a7++){var bb=bh[a7];var a9=bf[bb];var be=bb=="999999999999"?x(a5,"current"):aj(a5).formatDate(parseInt(bb));var a8='<div class="jsplus_backup-load-backup" data-timestamp="'+bb+'">'+'<div class="jsplus_backup-load-backup-data">'+'<div class="jsplus_backup-load-backup-data-timestamp">'+be+"</div>"+'<div class="jsplus_backup-load-backup-data-counts">'+'<div class="jsplus_backup-load-backup-data-count jsplus_backup-load-backup-data-count-symbols" title="'+x(a5,"symbols_count")+'"><img src="'+aV()+'img/symbols.png" alt="'+x(a5,"symbols_count")+'"/>'+aj(a5).formatCount(a9.symbols)+"</div>"+'<div class="jsplus_backup-load-backup-data-count jsplus_backup-load-backup-data-count-words"   title="'+x(a5,"words_count")+'"><img src="'+aV()+'img/words.png" alt="'+x(a5,"words_count")+'"/>'+aj(a5).formatCount(a9.words)+"</div>"+'<div class="jsplus_backup-load-backup-data-count jsplus_backup-load-backup-data-count-images"   title="'+x(a5,"images_count")+'"><img src="'+aV()+'img/images.png" alt="'+x(a5,"images_count")+'"/>'+aj(a5).formatCount(a9.images?a9.images:0)+"</div>"+'<div class="jsplus_backup-load-backup-data-count jsplus_backup-load-backup-data-count-size"    title="'+x(a5,"html_length")+'"><img src="'+aV()+'img/size.png" alt="'+x(a5,"html_length")+'"/>'+aj(a5).formatSize(a9.html.length)+"</div>"+"</div>"+"</div>"+"</div>";ba=a8+ba;}ba='<div class="jsplus_backup-load-backups-wrap">'+ba+"</div>";bg.innerHTML=ba;var a6=bc.elContent.getElementsByClassName("jsplus_backup-load-backup");for(var a7=0;a7<a6.length;a7++){a6[a7].onclick=(function(){var bi=a5;var bj=bc;return function(){B(bi,bj,this.getAttribute("data-timestamp"));};})();}B(a5,bc,bh[bh.length-1]);},onOk:function(){if(at==999999999999){return true;}aj(a5).restoreAndCallListeners(at);return true;},onHide:function(){aB=false;}});z(a5,"jsplus_backup_load","jsplus_backup_load","load",(function(){var a6=a5;return function(){p[G(a6)].show();};})(),"file");z(a5,"jsplus_backup_save","jsplus_backup_save","save",(function(){var a6=a5;return function(){aj(a5).backupNow();};})(),"file");I(a5,"instanceReady",ax);}w("save_empty",false);w("interval",30000);w("snapshots_limit",20);w("save_before_load",true);w("date_format","[{mmm d, yyyy}, HH:MM]");w("use_editor_width_for_preview",true);w("dialog_width",750);w("dialog_height",550);w("move_to_footer",false);w("add_background_in_footer",true);w("add_text_to_load_button",true);})();